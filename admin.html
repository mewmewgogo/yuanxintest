<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>è¯¾å ‚ç­”é¢˜ç³»ç»Ÿ - ç®¡ç†åå°</title>
<style>
:root {
  --primary: #2563eb;
  --primary-dark: #1d4ed8;
  --success: #10b981;
  --danger: #ef4444;
  --warning: #f59e0b;
  --bg: #f8fafc;
  --bg-card: #ffffff;
  --border: #e2e8f0;
  --text: #0f172a;
  --text-muted: #64748b;
  --shadow: 0 1px 3px rgba(0,0,0,0.1);
  --shadow-lg: 0 10px 25px rgba(0,0,0,0.1);
}

* { box-sizing: border-box; margin: 0; padding: 0; }

body {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "PingFang SC", "Microsoft YaHei", sans-serif;
  background: var(--bg);
  color: var(--text);
  line-height: 1.6;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

.header {
  background: var(--bg-card);
  border-bottom: 1px solid var(--border);
  padding: 16px 0;
  margin-bottom: 32px;
  box-shadow: var(--shadow);
}

.header h1 {
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--primary);
}

.header p {
  font-size: 0.875rem;
  color: var(--text-muted);
  margin-top: 4px;
}

.grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 24px;
}

.card {
  background: var(--bg-card);
  border-radius: 12px;
  padding: 24px;
  box-shadow: var(--shadow);
  border: 1px solid var(--border);
}

.card-title {
  font-size: 1.125rem;
  font-weight: 600;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 8px;
}

.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  padding: 10px 20px;
  border-radius: 8px;
  font-size: 0.875rem;
  font-weight: 500;
  border: none;
  cursor: pointer;
  transition: all 0.2s;
  text-decoration: none;
}

.btn-primary {
  background: var(--primary);
  color: white;
}

.btn-primary:hover {
  background: var(--primary-dark);
  transform: translateY(-1px);
  box-shadow: var(--shadow-lg);
}

.btn-success {
  background: var(--success);
  color: white;
}

.btn-danger {
  background: var(--danger);
  color: white;
}

.btn-ghost {
  background: transparent;
  color: var(--text);
  border: 1px solid var(--border);
}

.btn-ghost:hover {
  background: var(--bg);
}

.input, .textarea {
  width: 100%;
  padding: 10px 12px;
  border: 1px solid var(--border);
  border-radius: 8px;
  font-size: 0.875rem;
  font-family: inherit;
  transition: border-color 0.2s;
  background: var(--bg);
}

.input:focus, .textarea:focus {
  outline: none;
  border-color: var(--primary);
  background: white;
}

.textarea {
  min-height: 120px;
  resize: vertical;
  font-family: 'Monaco', 'Menlo', monospace;
  line-height: 1.5;
}

.form-group {
  margin-bottom: 16px;
}

.form-label {
  display: block;
  font-size: 0.875rem;
  font-weight: 500;
  margin-bottom: 6px;
  color: var(--text);
}

.quiz-list {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.quiz-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 16px;
  background: var(--bg);
  border-radius: 8px;
  border: 1px solid var(--border);
  transition: all 0.2s;
}

.quiz-item:hover {
  border-color: var(--primary);
  box-shadow: var(--shadow);
}

.quiz-info h3 {
  font-size: 1rem;
  font-weight: 600;
  margin-bottom: 4px;
}

.quiz-meta {
  font-size: 0.75rem;
  color: var(--text-muted);
}

.quiz-actions {
  display: flex;
  gap: 8px;
}

.badge {
  display: inline-block;
  padding: 2px 8px;
  border-radius: 4px;
  font-size: 0.75rem;
  font-weight: 500;
}

.badge-primary {
  background: rgba(37, 99, 235, 0.1);
  color: var(--primary);
}

.modal {
  display: none;
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.5);
  z-index: 1000;
  padding: 20px;
  overflow-y: auto;
}

.modal.active {
  display: flex;
  align-items: center;
  justify-content: center;
}

.modal-content {
  background: var(--bg-card);
  border-radius: 12px;
  max-width: 600px;
  width: 100%;
  max-height: 90vh;
  overflow-y: auto;
  box-shadow: var(--shadow-lg);
}

.modal-header {
  padding: 20px 24px;
  border-bottom: 1px solid var(--border);
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.modal-header h2 {
  font-size: 1.25rem;
  font-weight: 600;
}

.modal-body {
  padding: 24px;
}

.modal-footer {
  padding: 16px 24px;
  border-top: 1px solid var(--border);
  display: flex;
  justify-content: flex-end;
  gap: 12px;
}

.close-btn {
  background: none;
  border: none;
  font-size: 1.5rem;
  cursor: pointer;
  color: var(--text-muted);
  padding: 0;
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 4px;
}

.close-btn:hover {
  background: var(--bg);
}

.qr-display {
  text-align: center;
  padding: 20px;
}

.qr-display canvas {
  margin: 0 auto 16px;
  border: 1px solid var(--border);
  border-radius: 8px;
}

.url-display {
  background: var(--bg);
  padding: 12px;
  border-radius: 8px;
  font-family: monospace;
  font-size: 0.75rem;
  word-break: break-all;
  margin-top: 12px;
  border: 1px solid var(--border);
}

.alert {
  padding: 12px 16px;
  border-radius: 8px;
  margin-bottom: 16px;
  font-size: 0.875rem;
}

.alert-info {
  background: rgba(37, 99, 235, 0.1);
  color: var(--primary);
  border: 1px solid rgba(37, 99, 235, 0.2);
}

.alert-warning {
  background: rgba(245, 158, 11, 0.1);
  color: var(--warning);
  border: 1px solid rgba(245, 158, 11, 0.2);
}

.empty-state {
  text-align: center;
  padding: 48px 24px;
  color: var(--text-muted);
}

.empty-state-icon {
  font-size: 3rem;
  margin-bottom: 16px;
}

.loading {
  text-align: center;
  padding: 32px;
  color: var(--text-muted);
}

.spinner {
  display: inline-block;
  width: 24px;
  height: 24px;
  border: 3px solid var(--border);
  border-top-color: var(--primary);
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

.help-text {
  font-size: 0.75rem;
  color: var(--text-muted);
  margin-top: 4px;
}

@media (max-width: 768px) {
  .grid {
    grid-template-columns: 1fr;
  }
  
  .quiz-item {
    flex-direction: column;
    align-items: flex-start;
    gap: 12px;
  }
  
  .quiz-actions {
    width: 100%;
    justify-content: flex-end;
  }
}

.hidden { display: none !important; }
</style>
</head>
<body>

<div class="header">
  <div class="container">
    <h1>ğŸ“ è¯¾å ‚ç­”é¢˜ç³»ç»Ÿ - ç®¡ç†åå°</h1>
    <p>åˆ›å»ºé¢˜åº“ï¼Œç”ŸæˆäºŒç»´ç ï¼Œè®©å­¦ç”Ÿæ‰«ç ç­”é¢˜</p>
  </div>
</div>

<div class="container">
  <!-- å·¦ä¾§ï¼šé¢˜åº“åˆ—è¡¨ -->
  <div class="grid">
    <div class="card">
      <div class="card-title">
        <span>ğŸ“š æˆ‘çš„é¢˜åº“</span>
        <button class="btn btn-primary btn-sm" onclick="showCreateModal()" style="margin-left: auto; font-size: 0.875rem; padding: 6px 12px;">
          + æ–°å»ºé¢˜åº“
        </button>
      </div>
      
      <div id="quiz-list" class="quiz-list">
        <div class="loading">
          <div class="spinner"></div>
          <p style="margin-top: 12px;">åŠ è½½ä¸­...</p>
        </div>
      </div>
    </div>

    <!-- å³ä¾§ï¼šå¿«é€Ÿå¼€å§‹ -->
    <div class="card">
      <div class="card-title">ğŸš€ å¿«é€Ÿå¼€å§‹</div>
      
      <div class="alert alert-info">
        <strong>ğŸ’¡ ä½¿ç”¨è¯´æ˜ï¼š</strong><br>
        1. ç‚¹å‡»ã€Œæ–°å»ºé¢˜åº“ã€ä¸Šä¼  Word æ–‡æ¡£æˆ–ç²˜è´´é¢˜ç›®<br>
        2. ç‚¹å‡»ã€Œç”ŸæˆäºŒç»´ç ã€ç»™å­¦ç”Ÿæ‰«ç ç­”é¢˜<br>
        3. å­¦ç”Ÿç­”å®Œå¯ä»¥ç«‹å³çœ‹åˆ°æˆç»©
      </div>

      <div style="margin-top: 24px;">
        <h4 style="font-size: 0.875rem; margin-bottom: 12px; color: var(--text-muted);">é¢˜ç›®æ ¼å¼ç¤ºä¾‹ï¼š</h4>
        <pre style="background: var(--bg); padding: 16px; border-radius: 8px; font-size: 0.75rem; line-height: 1.6; overflow-x: auto; border: 1px solid var(--border);">1. ä»¥ä¸‹å“ªé¡¹æ­£ç¡®ï¼Ÿã€å•é€‰ã€‘
A. é€‰é¡¹ä¸€
B. é€‰é¡¹äºŒ
C. é€‰é¡¹ä¸‰
ç­”æ¡ˆï¼šB
è§£æï¼šå› ä¸º...ï¼ˆå¯é€‰ï¼‰

2. ä»¥ä¸‹å“ªäº›æ­£ç¡®ï¼Ÿã€å¤šé€‰ã€‘
A. é€‰é¡¹ä¸€
B. é€‰é¡¹äºŒ
C. é€‰é¡¹ä¸‰
ç­”æ¡ˆï¼šAC</pre>
      </div>

      <div style="margin-top: 20px;">
        <button class="btn btn-ghost" style="width: 100%;" onclick="showHelp()">
          ğŸ“– æŸ¥çœ‹å®Œæ•´æ ¼å¼è¯´æ˜
        </button>
      </div>
    </div>
  </div>
</div>

<!-- æ–°å»º/ç¼–è¾‘é¢˜åº“å¼¹çª— -->
<div id="edit-modal" class="modal">
  <div class="modal-content">
    <div class="modal-header">
      <h2 id="modal-title">æ–°å»ºé¢˜åº“</h2>
      <button class="close-btn" onclick="closeModal('edit-modal')">Ã—</button>
    </div>
    <div class="modal-body">
      <div class="form-group">
        <label class="form-label">é¢˜åº“åç§°</label>
        <input type="text" class="input" id="quiz-name" placeholder="ä¾‹å¦‚ï¼šç¬¬ä¸€ç« æµ‹éªŒ">
        <p class="help-text">ç»™è¿™å¥—é¢˜èµ·ä¸ªåå­—ï¼Œæ–¹ä¾¿ç®¡ç†</p>
      </div>

      <div class="form-group">
        <label class="form-label">ä¸Šä¼ æ–¹å¼</label>
        <div style="display: flex; gap: 12px; margin-bottom: 12px;">
          <button class="btn btn-ghost" onclick="document.getElementById('file-upload').click()">
            ğŸ“„ ä¸Šä¼  Word æ–‡æ¡£
          </button>
          <input type="file" id="file-upload" accept=".docx,.txt" style="display: none;" onchange="handleFileUpload(event)">
        </div>
      </div>

      <div class="form-group">
        <label class="form-label">é¢˜ç›®å†…å®¹</label>
        <textarea class="textarea" id="quiz-content" rows="12" placeholder="ç²˜è´´æˆ–ç¼–è¾‘é¢˜ç›®..."></textarea>
        <p class="help-text">æ”¯æŒç›´æ¥ç²˜è´´æ–‡å­—ï¼Œæˆ–ä¸Šä¼  .docx æ–‡ä»¶è‡ªåŠ¨è§£æ</p>
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn btn-ghost" onclick="closeModal('edit-modal')">å–æ¶ˆ</button>
      <button class="btn btn-primary" onclick="saveQuiz()">ğŸ’¾ ä¿å­˜é¢˜åº“</button>
    </div>
  </div>
</div>

<!-- äºŒç»´ç å¼¹çª— -->
<div id="qr-modal" class="modal">
  <div class="modal-content">
    <div class="modal-header">
      <h2>æ‰«ç ç­”é¢˜</h2>
      <button class="close-btn" onclick="closeModal('qr-modal')">Ã—</button>
    </div>
    <div class="modal-body">
      <div class="qr-display">
        <h3 style="margin-bottom: 16px; font-size: 1rem;" id="qr-quiz-name"></h3>
        <canvas id="qr-canvas"></canvas>
        <p style="color: var(--text-muted); font-size: 0.875rem;">å­¦ç”Ÿç”¨å¾®ä¿¡æ‰«ç å³å¯ç­”é¢˜</p>
        <div class="url-display" id="qr-url"></div>
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn btn-ghost" onclick="copyURL()">ğŸ“‹ å¤åˆ¶é“¾æ¥</button>
      <button class="btn btn-primary" onclick="closeModal('qr-modal')">å…³é—­</button>
    </div>
  </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
<script>
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// æœ¬åœ°å­˜å‚¨æ•°æ®ç»“æ„
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const STORAGE_KEY = 'quiz_banks';
let currentEditId = null;

// è·å–æ‰€æœ‰é¢˜åº“
function getAllQuizzes() {
  const data = localStorage.getItem(STORAGE_KEY);
  return data ? JSON.parse(data) : [];
}

// ä¿å­˜æ‰€æœ‰é¢˜åº“
function saveAllQuizzes(quizzes) {
  localStorage.setItem(STORAGE_KEY, JSON.stringify(quizzes));
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// é¡µé¢åˆå§‹åŒ–
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function init() {
  loadQuizList();
}

// åŠ è½½é¢˜åº“åˆ—è¡¨
function loadQuizList() {
  const quizzes = getAllQuizzes();
  const container = document.getElementById('quiz-list');
  
  if (quizzes.length === 0) {
    container.innerHTML = `
      <div class="empty-state">
        <div class="empty-state-icon">ğŸ“</div>
        <p>è¿˜æ²¡æœ‰é¢˜åº“ï¼Œç‚¹å‡»å³ä¸Šè§’ã€Œæ–°å»ºé¢˜åº“ã€å¼€å§‹å§</p>
      </div>
    `;
    return;
  }
  
  container.innerHTML = quizzes.map(quiz => `
    <div class="quiz-item">
      <div class="quiz-info">
        <h3>${escapeHtml(quiz.name)}</h3>
        <div class="quiz-meta">
          <span class="badge badge-primary">${quiz.questionCount || 0} é“é¢˜</span>
          <span style="margin-left: 8px;">${new Date(quiz.createdAt).toLocaleDateString('zh-CN')}</span>
        </div>
      </div>
      <div class="quiz-actions">
        <button class="btn btn-ghost" onclick="showQR('${quiz.id}')" style="font-size: 0.875rem; padding: 6px 12px;">
          ğŸ“± äºŒç»´ç 
        </button>
        <button class="btn btn-ghost" onclick="editQuiz('${quiz.id}')" style="font-size: 0.875rem; padding: 6px 12px;">
          âœï¸ ç¼–è¾‘
        </button>
        <button class="btn btn-danger" onclick="deleteQuiz('${quiz.id}')" style="font-size: 0.875rem; padding: 6px 12px;">
          ğŸ—‘ï¸
        </button>
      </div>
    </div>
  `).join('');
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// æ–°å»º/ç¼–è¾‘é¢˜åº“
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function showCreateModal() {
  currentEditId = null;
  document.getElementById('modal-title').textContent = 'æ–°å»ºé¢˜åº“';
  document.getElementById('quiz-name').value = '';
  document.getElementById('quiz-content').value = '';
  document.getElementById('edit-modal').classList.add('active');
}

function editQuiz(id) {
  const quizzes = getAllQuizzes();
  const quiz = quizzes.find(q => q.id === id);
  if (!quiz) return;
  
  currentEditId = id;
  document.getElementById('modal-title').textContent = 'ç¼–è¾‘é¢˜åº“';
  document.getElementById('quiz-name').value = quiz.name;
  document.getElementById('quiz-content').value = quiz.content;
  document.getElementById('edit-modal').classList.add('active');
}

function saveQuiz() {
  const name = document.getElementById('quiz-name').value.trim();
  const content = document.getElementById('quiz-content').value.trim();
  
  if (!name) {
    alert('è¯·è¾“å…¥é¢˜åº“åç§°');
    return;
  }
  
  if (!content) {
    alert('è¯·è¾“å…¥é¢˜ç›®å†…å®¹');
    return;
  }
  
  // è§£æé¢˜ç›®æ•°é‡
  const questionCount = parseQuestionCount(content);
  
  const quizzes = getAllQuizzes();
  
  if (currentEditId) {
    // ç¼–è¾‘ç°æœ‰é¢˜åº“
    const index = quizzes.findIndex(q => q.id === currentEditId);
    if (index !== -1) {
      quizzes[index] = {
        ...quizzes[index],
        name,
        content,
        questionCount,
        updatedAt: new Date().toISOString()
      };
    }
  } else {
    // æ–°å»ºé¢˜åº“
    const newQuiz = {
      id: generateId(),
      name,
      content,
      questionCount,
      createdAt: new Date().toISOString(),
      updatedAt: new Date().toISOString()
    };
    quizzes.push(newQuiz);
  }
  
  saveAllQuizzes(quizzes);
  closeModal('edit-modal');
  loadQuizList();
}

function deleteQuiz(id) {
  if (!confirm('ç¡®å®šè¦åˆ é™¤è¿™ä¸ªé¢˜åº“å—ï¼Ÿ')) return;
  
  const quizzes = getAllQuizzes();
  const filtered = quizzes.filter(q => q.id !== id);
  saveAllQuizzes(filtered);
  loadQuizList();
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// æ–‡ä»¶ä¸Šä¼ 
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
async function handleFileUpload(event) {
  const file = event.target.files[0];
  if (!file) return;
  
  try {
    let content;
    if (file.name.endsWith('.txt')) {
      content = await file.text();
    } else if (file.name.endsWith('.docx')) {
      // ç®€åŒ–ç‰ˆï¼šæç¤ºç”¨æˆ·å¤åˆ¶ç²˜è´´
      alert('è¯·æ‰“å¼€ Word æ–‡æ¡£ï¼Œå¤åˆ¶é¢˜ç›®å†…å®¹åç²˜è´´åˆ°ä¸‹æ–¹æ–‡æœ¬æ¡†ä¸­');
      return;
    }
    
    document.getElementById('quiz-content').value = content;
    
    // è‡ªåŠ¨å¡«å……é¢˜åº“åç§°ï¼ˆå¦‚æœä¸ºç©ºï¼‰
    if (!document.getElementById('quiz-name').value) {
      document.getElementById('quiz-name').value = file.name.replace(/\.(docx|txt)$/i, '');
    }
  } catch (e) {
    alert('æ–‡ä»¶è¯»å–å¤±è´¥ï¼š' + e.message);
  }
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ç”ŸæˆäºŒç»´ç 
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function showQR(id) {
  const quizzes = getAllQuizzes();
  const quiz = quizzes.find(q => q.id === id);
  if (!quiz) return;
  
  // ç”Ÿæˆç­”é¢˜é“¾æ¥
  const baseUrl = window.location.origin + window.location.pathname;
  const quizUrl = `${baseUrl}?quiz=${id}`;
  
  document.getElementById('qr-quiz-name').textContent = quiz.name;
  document.getElementById('qr-url').textContent = quizUrl;
  document.getElementById('qr-modal').classList.add('active');
  
  // æ¸…ç©ºä¹‹å‰çš„äºŒç»´ç 
  const canvas = document.getElementById('qr-canvas');
  const container = canvas.parentElement;
  canvas.remove();
  const newCanvas = document.createElement('canvas');
  newCanvas.id = 'qr-canvas';
  container.insertBefore(newCanvas, document.getElementById('qr-url'));
  
  // ç”Ÿæˆæ–°äºŒç»´ç 
  new QRCode(newCanvas, {
    text: quizUrl,
    width: 256,
    height: 256,
    colorDark: "#000000",
    colorLight: "#ffffff",
    correctLevel: QRCode.CorrectLevel.M
  });
}

function copyURL() {
  const url = document.getElementById('qr-url').textContent;
  navigator.clipboard.writeText(url).then(() => {
    alert('âœ… é“¾æ¥å·²å¤åˆ¶åˆ°å‰ªè´´æ¿');
  }).catch(() => {
    // é™çº§æ–¹æ¡ˆ
    const textarea = document.createElement('textarea');
    textarea.value = url;
    document.body.appendChild(textarea);
    textarea.select();
    document.execCommand('copy');
    document.body.removeChild(textarea);
    alert('âœ… é“¾æ¥å·²å¤åˆ¶åˆ°å‰ªè´´æ¿');
  });
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// å·¥å…·å‡½æ•°
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function generateId() {
  return Date.now().toString(36) + Math.random().toString(36).substr(2);
}

function parseQuestionCount(content) {
  const matches = content.match(/^\d+[.ã€ï¼ã€‚ï¼‰)]/gm);
  return matches ? matches.length : 0;
}

function escapeHtml(text) {
  const div = document.createElement('div');
  div.textContent = text;
  return div.innerHTML;
}

function closeModal(id) {
  document.getElementById(id).classList.remove('active');
}

function showHelp() {
  alert(`æ”¯æŒçš„é¢˜å‹æ ¼å¼ï¼š

ã€å•é€‰é¢˜ã€‘
1. é¢˜ç›®ï¼Ÿã€å•é€‰ã€‘
A. é€‰é¡¹ä¸€
B. é€‰é¡¹äºŒ
ç­”æ¡ˆï¼šA
è§£æï¼šè¯´æ˜...ï¼ˆå¯é€‰ï¼‰

ã€å¤šé€‰é¢˜ã€‘
2. é¢˜ç›®ï¼Ÿã€å¤šé€‰ã€‘  
A. é€‰é¡¹ä¸€
B. é€‰é¡¹äºŒ
ç­”æ¡ˆï¼šAB

ã€åˆ¤æ–­é¢˜ã€‘
3. è¯´æ³•æ­£ç¡®å—ï¼Ÿã€åˆ¤æ–­ã€‘
ç­”æ¡ˆï¼šå¯¹

ã€å¡«ç©ºé¢˜ã€‘
4. ____ æ˜¯é¦–éƒ½ã€‚ã€å¡«ç©ºã€‘
ç­”æ¡ˆï¼šåŒ—äº¬

ã€ç®€ç­”é¢˜ã€‘
5. ç®€è¿°...ã€ç®€ç­”ã€‘
ç­”æ¡ˆï¼šè¦ç‚¹åŒ…æ‹¬...`);
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// é¡µé¢åŠ è½½
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
document.addEventListener('DOMContentLoaded', init);

// ç‚¹å‡»æ¨¡æ€æ¡†èƒŒæ™¯å…³é—­
document.querySelectorAll('.modal').forEach(modal => {
  modal.addEventListener('click', (e) => {
    if (e.target === modal) {
      modal.classList.remove('active');
    }
  });
});
</script>

</body>
</html>
